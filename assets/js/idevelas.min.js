(()=>{"use strict";function i(e,t,a,n){console.log(a);var o=document.createElement("div");o.innerHTML=[`<div id="${e}" class="alert alert-${n} alert-dismissible" role="alert">`,`   <div>${a}</div>`,'   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>',"</div>"].join(""),t.append(o)}document.addEventListener("DOMContentLoaded",function(){var e;e=document.querySelectorAll(".needs-validation"),Array.from(e).forEach(t=>{t.addEventListener("submit",e=>{t.checkValidity()||(e.preventDefault(),e.stopPropagation()),t.classList.add("was-validated")},!1)}),document.querySelectorAll(".newsletter-form").forEach(c=>{c.addEventListener("submit",e=>{e.preventDefault();const t="newsletter-form-alert";if(document.getElementById(t),document.getElementById(t)&&bootstrap.Alert.getOrCreateInstance("#"+t).close(),c.checkValidity()){c.classList.add("was-validated");const r=c.querySelector("#email"),l=c.querySelector("button");if(l,l&&!l.disabled){l.disabled=!0;const d=l.innerText;l.innerText="Enviando...";var a,n,e=ajax_object.ajax_url,o=new FormData(c);o.get("action");for([a,n]of o)console.log("data",`${a}: ${n}\n`);const s=document.getElementById("newsletter-form-alert-placeholder");fetch(e,{method:"POST",body:o}).then(e=>e.json()).then(e=>{i(t,s,e.data.msg,"success"),r.value=""}).catch(e=>{console.error(e),i(s,e,"danger")}).finally(()=>{l.disabled=!1,l.innerText=d,c.classList.remove("was-validated")})}}})}),e=document.querySelectorAll(".go-back-btn"),Array.from(e).forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),history.back()})})})})();