(()=>{"use strict";function c(e,t,a,n){console.log(a);var o=document.createElement("div");o.innerHTML=[`<div id="${e}" class="alert alert-${n} alert-dismissible" role="alert">`,`   <div>${a}</div>`,'   <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>',"</div>"].join(""),t.append(o)}document.addEventListener("DOMContentLoaded",function(){var e;e=document.querySelectorAll(".needs-validation"),Array.from(e).forEach(t=>{t.addEventListener("submit",e=>{t.checkValidity()||(e.preventDefault(),e.stopPropagation()),t.classList.add("was-validated")},!1)}),document.querySelectorAll(".newsletter-form").forEach(i=>{i.addEventListener("submit",e=>{e.preventDefault();const t="newsletter-form-alert";if(document.getElementById(t),document.getElementById(t)&&bootstrap.Alert.getOrCreateInstance("#"+t).close(),i.checkValidity()){i.classList.add("was-validated");const l=i.querySelector("#email"),r=i.querySelector("button");if(r,r&&!r.disabled){r.disabled=!0;const d=r.innerText;r.innerText="Enviando...";var a,n,e=ajax_object.ajax_url,o=new FormData(i);o.get("action");for([a,n]of o)console.log("data",`${a}: ${n}\n`);const s=document.getElementById("newsletter-form-alert-placeholder");fetch(e,{method:"POST",body:o}).then(e=>e.json()).then(e=>{c(t,s,e.data.msg,"success"),l.value=""}).catch(e=>{console.error(e),c(s,e,"danger")}).finally(()=>{r.disabled=!1,r.innerText=d,i.classList.remove("was-validated")})}}})})})})();